# Проект статистического анализа данных

Проект представляет собой полноценную систему для статистического анализа данных, состоящую из трех компонентов:
1. **Go-сервер** - промежуточный слой для авторизации и управления данными
2. **Python-сервер** - вычислительное ядро статистического анализа
3. **Frontend** - веб-интерфейс для взаимодействия с системой

## Архитектура проекта

Проект использует микросервисную архитектуру с четким разделением ответственности:

- **Frontend (Next.js)** — интерфейс пользователя для загрузки данных и отображения результатов
- **Go-сервер** — авторизация, хранение результатов и API для фронтенда
- **Python-сервер** — вычислительное ядро для статистических алгоритмов

Компоненты взаимодействуют по следующей схеме:
1. Пользователь загружает данные через веб-интерфейс
2. Frontend отправляет запрос на Go-сервер
3. Go-сервер передает данные на Python-сервер через gRPC
4. Python-сервер выполняет статистический анализ и возвращает результаты
5. Go-сервер сохраняет результаты в БД и отправляет их на Frontend
6. Frontend отображает результаты в виде таблиц и графиков

---

# Вычислительное ядро статистического анализа на Python

## Что реализовано

Данный сервер представляет собой вычислительное ядро для статистического анализа данных, реализованное на языке Python. Сервер предоставляет следующие функциональные возможности:

1. **Загрузка и предобработка данных**:
   - Поддержка форматов CSV и Excel (XLSX)
   - Автоматическое определение разделителей в CSV файлах
   - Валидация входных данных

2. **Описательная статистика**:
   - Базовые статистические показатели (среднее, медиана, мода)
   - Меры разброса (дисперсия, стандартное отклонение)
   - Коэффициент вариации
   - Анализ формы распределения (асимметрия, эксцесс)
   - Определение минимальных и максимальных значений
   - Построение гистограмм распределения

3. **Тесты на нормальность распределения**:
   - Тест Шапиро-Уилка
   - Критерий согласия хи-квадрат Пирсона

4. **Доверительные интервалы**:
   - Расчет доверительных интервалов для среднего значения
   - Настраиваемый уровень доверия (по умолчанию 95%)

5. **Регрессионный анализ**:
   - Линейная регрессия (через OLS и curve_fit)
   - Квадратичная регрессия
   - Степенная регрессия
   - Экспоненциальная регрессия
   - Логарифмическая регрессия
   - Тригонометрическая регрессия
   - Сигмоидная регрессия
   - Оценка качества моделей (R², скорректированный R², F-статистика, p-значение, SSE)

6. **Анализ остатков регрессии**:
   - Тест на нормальность остатков
   - Построение гистограмм остатков
   - Подготовка данных для QQ-графиков

7. **Тесты Вилкоксона**:
   - Тест знаковых рангов Вилкоксона для связанных (парных) выборок
   - Тест Манна-Уитни (U-тест) для независимых выборок

## Как реализовано

Проект реализован с использованием **гексагональной архитектуры** (также известной как "порты и адаптеры"), что обеспечивает:
- Четкое разделение ответственности между компонентами
- Возможность независимого тестирования модулей
- Гибкость в замене реализаций компонентов

### Структура проекта:

```
python-server/
├── analysis_modules/         # Модули с алгоритмами статистического анализа
│   ├── confidence_interval.py
│   ├── descriptive.py
│   ├── goodness_of_fit.py
│   ├── normality.py
│   ├── regression.py
│   ├── residuals_analysis.py
│   └── wilcoxon.py
├── internal/                 # Внутренняя структура приложения
│   ├── adapters/             # Адаптеры для порт-интерфейсов
│   │   ├── confidence_interval.py
│   │   ├── data_loader.py
│   │   ├── descriptive_stats.py
│   │   ├── goodness_of_fit.py
│   │   ├── grpc_server.py
│   │   ├── normality_test.py
│   │   ├── regression.py
│   │   ├── residuals_analysis.py
│   │   └── wilcoxon_test.py
│   └── core/                 # Ядро приложения (бизнес-логика)
│       ├── domain/           # Бизнес-сущности
│       │   └── entities.py
│       ├── ports/            # Интерфейсы для адаптеров
│       │   ├── analysis_ports.py
│       │   └── wilcoxon_test_port.py
│       └── services/         # Реализация бизнес-логики
│           └── analysis_service.py
├── analysis_pb2.py           # Сгенерированные классы Protocol Buffers
├── analysis_pb2_grpc.py      # Сгенерированные gRPC сервисы
├── analysis_pb2.pyi          # Типизированные интерфейсы
├── main.py                   # Точка входа в приложение
└── requirements.txt          # Зависимости проекта
```

### Технологический стек:

- **Python 3.8+** - Основной язык программирования
- **gRPC** - Фреймворк для удаленного вызова процедур
- **Protocol Buffers** - Механизм сериализации структурированных данных
- **pandas** - Библиотека для работы с табличными данными
- **NumPy** - Библиотека для научных вычислений
- **SciPy** - Библиотека для статистических вычислений
- **statsmodels** - Библиотека для статистического моделирования

### Принцип работы:

1. **Прием запроса** - gRPC сервер принимает запрос с содержимым файла и перечнем требуемых видов анализа
2. **Загрузка данных** - Содержимое файла преобразуется в DataFrame для дальнейшей обработки
3. **Выполнение анализа** - Выполняются запрошенные виды анализа
4. **Формирование ответа** - Результаты анализа упаковываются в ответный объект
5. **Отправка результата** - Ответ сериализуется и отправляется клиенту через gRPC

## Реализация статистических алгоритмов

### 1. Описательная статистика (descriptive.py)

Модуль реализует расчет основных статистических показателей для числовых переменных:

- **Базовые статистики**: средние значения вычисляются через `pandas.DataFrame.mean()`, медиана через `pandas.DataFrame.median()`, мода через `pandas.Series.mode()`
- **Меры разброса**: дисперсия вычисляется с помощью `pandas.DataFrame.var()`, стандартное отклонение через `pandas.DataFrame.std()`
- **Коэффициент вариации**: рассчитывается как отношение стандартного отклонения к среднему значению, умноженное на 100%
- **Анализ формы распределения**: асимметрия вычисляется через `scipy.stats.skew()`, эксцесс через `scipy.stats.kurtosis()` с параметром `fisher=True`
- **Гистограммы**: строятся с использованием `numpy.histogram()` с автоматическим определением количества бинов по методу Стёрджесса

### 2. Тесты на нормальность (normality.py)

- **Тест Шапиро-Уилка**: реализован с использованием функции `scipy.stats.shapiro()`, которая вычисляет W-статистику и p-значение
- **Интерпретация результатов**: если p-значение > 0.05, то принимается гипотеза о нормальности распределения

### 3. Критерий хи-квадрат (goodness_of_fit.py)

- **Критерий согласия Пирсона**: реализован с использованием функции `scipy.stats.chisquare()`
- **Алгоритм**:
  1. Разбиение данных на равные интервалы (количество интервалов определяется по формуле Стёрджесса)
  2. Подсчет наблюдаемых частот в каждом интервале
  3. Расчет теоретических частот на основе нормального распределения с параметрами выборки
  4. Вычисление статистики хи-квадрат и p-значения
  5. Сравнение p-значения с уровнем значимости для принятия/отклонения гипотезы о нормальности

### 4. Доверительные интервалы (confidence_interval.py)

- **Расчет доверительных интервалов для среднего**: использует функцию `scipy.stats.t.interval()` с аргументами:
  - Уровень доверия (по умолчанию 0.95)
  - Степени свободы (n-1, где n - размер выборки)
  - Среднее значение выборки
  - Стандартная ошибка среднего (стандартное отклонение, деленное на корень из размера выборки)

### 5. Регрессионный анализ (regression.py)

Модуль поддерживает различные типы регрессий:

- **Линейная регрессия**: 
  - Метод OLS (Ordinary Least Squares) из `statsmodels.api.OLS`
  - Альтернативный метод через `scipy.optimize.curve_fit` для y = ax + b
  - Оценка коэффициентов, стандартных ошибок, t-статистик, p-значений и доверительных интервалов
  - **Расчет коэффициентов**: 
    - В методе OLS используется матричное уравнение β = (X^T X)^(-1) X^T Y, где X - матрица независимых переменных, Y - вектор зависимой переменной
    - Стандартные ошибки коэффициентов вычисляются из диагональных элементов матрицы (X^T X)^(-1) * σ², где σ² - оценка дисперсии ошибок
  - **Расчет доверительных интервалов для коэффициентов**:
    - Для OLS используется встроенный метод `results.conf_int(alpha=0.05)` из statsmodels
    - Формула: [β_i ± t_(n-p, 1-α/2) * se(β_i)], где:
      - β_i - оценка коэффициента
      - t_(n-p, 1-α/2) - критическое значение t-распределения с (n-p) степенями свободы
      - n - число наблюдений
      - p - число параметров модели
      - se(β_i) - стандартная ошибка коэффициента
      - α - уровень значимости (0.05 для 95% доверительного интервала)

- **Нелинейные регрессии** - все реализованы через `scipy.optimize.curve_fit`:
  - **Квадратичная**: y = ax² + bx + c
    - **Расчет коэффициентов**: преобразование в линейную модель с двумя предикторами (x² и x) или оптимизация методом Левенберга-Марквардта через `curve_fit`
  - **Степенная**: y = ax^b
    - **Расчет коэффициентов**: логарифмирование уравнения ln(y) = ln(a) + b*ln(x) и применение линейной регрессии или напрямую через `curve_fit`
  - **Экспоненциальная**: y = ae^(bx)
    - **Расчет коэффициентов**: логарифмирование уравнения ln(y) = ln(a) + bx и применение линейной регрессии или итеративная оптимизация через `curve_fit`
  - **Логарифмическая**: y = a + b*ln(x)
    - **Расчет коэффициентов**: преобразование ln(x) в новую переменную и применение линейной регрессии
  - **Тригонометрическая**: y = a*sin(bx + c) + d
    - **Расчет коэффициентов**: нелинейная оптимизация с начальными приближениями через алгоритм Левенберга-Марквардта в `curve_fit`
  - **Сигмоидная**: y = a / (1 + e^(-b(x-c)))
    - **Расчет коэффициентов**: нелинейная оптимизация через `curve_fit` с самоограничивающейся функцией потерь для устойчивости алгоритма
  - **Расчет доверительных интервалов для нелинейных моделей**:
    - Стандартные ошибки извлекаются из диагональных элементов ковариационной матрицы, возвращаемой `curve_fit`: `std_errors = np.sqrt(np.diag(covariance))`
    - Критическое значение t-распределения вычисляется через `stats.t.ppf(1 - 0.05/2, df_error)`, где df_error = n - p (степени свободы)
    - Доверительные интервалы: [параметр ± t_критическое × стандартная_ошибка]
    - Для сигмоидной и тригонометрической моделей доверительные интервалы могут быть неточными из-за сложности поверхности ошибок

- **Процесс оптимизации нелинейных регрессий**:
  1. Определение целевой функции модели (например, y = ae^(bx))
  2. Выбор начальных значений параметров (часто через эвристики или предварительное линейное приближение)
  3. Итеративная минимизация суммы квадратов остатков (SSR) с использованием алгоритма Левенберга-Марквардта
     - На каждой итерации вычисляется матрица Якоби (первые производные функции по каждому параметру)
     - Параметры корректируются в направлении, минимизирующем ошибку между моделью и данными
     - Процесс останавливается при достижении сходимости (изменение параметров меньше порога или достижение максимального числа итераций)
  4. Оценка стандартных ошибок параметров из ковариационной матрицы, возвращаемой `curve_fit`

- **Оценка качества моделей**:
  - Коэффициент детерминации R² = 1 - SSR/SST, где SSR - сумма квадратов остатков, SST - общая сумма квадратов
  - Скорректированный R² = 1 - (1-R²)*(n-1)/(n-p-1), где n - число наблюдений, p - число предикторов
  - F-статистика = (R²/p)/((1-R²)/(n-p-1)) и соответствующее p-значение из F-распределения
  - Сумма квадратов ошибок (SSE)

### 6. Анализ остатков регрессии (residuals_analysis.py)

- **Расчет остатков**: разница между наблюдаемыми значениями и предсказанными моделью
- **Тест на нормальность остатков**: использует тест Шапиро-Уилка из `scipy.stats.shapiro()`
- **Гистограмма остатков**: строится с помощью `numpy.histogram()`
- **QQ-график**: подготавливает данные с использованием `scipy.stats.probplot()`

### 7. Тесты Вилкоксона (wilcoxon.py)

- **Тест знаковых рангов Вилкоксона**:
  - Реализация через `scipy.stats.wilcoxon()`
  - Алгоритм проверки:
    1. Вычисление разностей между парными наблюдениями
    2. Исключение нулевых разностей
    3. Ранжирование абсолютных значений разностей
    4. Присвоение рангам знаков исходных разностей
    5. Вычисление суммы рангов с положительными и отрицательными знаками
    6. Расчет статистики W как минимальное из двух сумм
    7. Определение критического значения и p-значения

- **Тест Манна-Уитни (U-тест)**:
  - Реализация через `scipy.stats.mannwhitneyu()`
  - Алгоритм проверки:
    1. Комбинация двух выборок и ранжирование всех наблюдений
    2. Вычисление суммы рангов для каждой выборки
    3. Расчет статистики U на основе сумм рангов и размеров выборок
    4. Определение p-значения исходя из распределения статистики U

## Зачем реализовано

Этот сервер представляет собой вычислительное ядро для статистического анализа данных, которое используется в рамках более крупной системы. Основные цели:

1. **Изоляция вычислительной логики** - Отделение тяжелых вычислений от основного приложения
2. **Использование преимуществ Python** - Доступ к богатой экосистеме библиотек для научных расчетов и статистики
3. **Масштабируемость** - Возможность независимого масштабирования вычислительного сервера
4. **Интерфейс для внешних систем** - Предоставление стандартизированного API для доступа к статистическим алгоритмам

### Запуск проекта

#### Предварительные требования
- Python 3.8 или выше
- pip (менеджер пакетов Python)

#### Установка зависимостей
```bash
pip install -r requirements.txt
```

#### Запуск сервера
```bash
python main.py
```

По умолчанию сервер запускается на порту 9000 и принимает соединения со всех сетевых интерфейсов.

---

# Go Server - Серверная часть проекта статистического анализа

Серверная часть проекта реализована на языке Go и выполняет роль промежуточного слоя между фронтендом и вычислительным Python-сервером. Go-сервер обеспечивает авторизацию пользователей, хранение результатов анализа и передачу данных на вычислительный сервер.

## Технологии

- **Go 1.23+** - Современный, производительный язык программирования
- **Gin** - Быстрый HTTP фреймворк для построения REST API
- **gRPC** - Высокопроизводительный RPC фреймворк для межсервисного взаимодействия
- **Protocol Buffers** - Механизм сериализации структурированных данных
- **PostgreSQL** - Реляционная база данных для хранения пользователей и результатов анализа
- **JWT** - Механизм аутентификации и авторизации пользователей

## Архитектура проекта

Серверная часть построена на принципах чистой архитектуры с разделением на слои:

```
go-server/
├── cmd/                  # Точки входа в приложение
│   └── main.go           # Основной файл запуска сервера
├── generated/            # Сгенерированный gRPC код из proto-файлов
├── internal/             # Внутренние пакеты приложения
│   ├── adapter/          # Адаптеры для внешних сервисов (gRPC клиент)
│   ├── common/           # Общие утилиты и константы
│   ├── database/         # Конфигурация и подключение к базе данных
│   ├── handlers/         # HTTP обработчики (контроллеры)
│   ├── middleware/       # Промежуточные обработчики (авторизация)
│   ├── migrations/       # SQL миграции базы данных
│   ├── models/           # Модели данных
│   ├── repository/       # Слой доступа к данным
│   ├── server/           # Конфигурация HTTP сервера
│   └── services/         # Бизнес-логика
```

## Основные функциональные модули

### 1. Аутентификация и авторизация
- Регистрация и авторизация пользователей
- JWT токены для защиты API-эндпоинтов
- Механизм обновления токенов
- Изменение пароля пользователя

### 2. Анализ данных
- Загрузка CSV/Excel файлов
- Передача данных на Python-сервер через gRPC
- Получение списка колонок из загруженного файла
- Хранение и извлечение результатов анализа

### 3. Типы статистического анализа
- Описательная статистика (среднее, медиана, дисперсия и т.д.)
- Тесты на нормальность распределения (Шапиро-Уилка)
- Регрессионный анализ (линейная, квадратичная, экспоненциальная и другие модели)
- Тесты Вилкоксона (знаковых рангов и Манна-Уитни)

### 4. История анализов
- Сохранение метаданных анализа
- Сохранение результатов анализа в формате JSONB
- API для получения истории и детальных результатов анализа
- Удаление результатов анализа

## API-эндпоинты

### Публичные эндпоинты (без авторизации)
- `POST /api/auth/register` - Регистрация нового пользователя
- `POST /api/auth/login` - Авторизация пользователя и получение токенов
- `POST /api/auth/refresh` - Обновление токена доступа

### Защищенные эндпоинты (требуют авторизации)
- `POST /api/analyze` - Отправка файла на анализ
- `POST /api/columns` - Получение списка колонок из файла
- `GET /api/analyses/history` - Получение истории анализов пользователя
- `GET /api/analyses/history/:runId/results` - Получение результатов конкретного анализа
- `DELETE /api/analyses/history/:runId` - Удаление анализа и его результатов
- `POST /api/user/change-password` - Изменение пароля пользователя

## База данных

Структура базы данных состоит из следующих таблиц:

### 1. users - Хранение информации о пользователях
```sql
CREATE TABLE users (
    id SERIAL PRIMARY KEY,
    email VARCHAR(255) UNIQUE NOT NULL,
    password_hash VARCHAR(255) NOT NULL,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP
);
```

### 2. analysis_runs - Метаданные запусков анализа
```sql
CREATE TABLE analysis_runs (
    id SERIAL PRIMARY KEY,
    user_id INTEGER NOT NULL REFERENCES users(id) ON DELETE CASCADE,
    file_name VARCHAR(255) NOT NULL,
    run_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
    selected_analyses TEXT [],
    dependent_variable VARCHAR(255),
    independent_variable VARCHAR(255)
);
```

### 3. analysis_results_data - Результаты анализа
```sql
CREATE TABLE analysis_results_data (
    id SERIAL PRIMARY KEY,
    analysis_run_id INTEGER NOT NULL REFERENCES analysis_runs(id) ON DELETE CASCADE,
    result_type VARCHAR(255) NOT NULL,  -- e.g., 'descriptive_stats', 'normality_tests', 'regression_analysis', 'wilcoxon_tests'
    data JSONB NOT NULL
);
```

## Межсервисное взаимодействие

Go-сервер взаимодействует с Python-сервером через gRPC протокол:

1. **Protocol Buffers** определяют структуру сообщений и сервисов в `proto/analysis.proto`
2. **gRPC клиент** в Go отправляет запросы на анализ данных Python-серверу
3. **Адаптер** преобразует данные между форматами Go и Protocol Buffers
4. **Python-сервер** выполняет статистические вычисления и возвращает результаты
5. **Go-сервер** сохраняет результаты в базе данных и предоставляет их клиенту через REST API

## Запуск проекта

### Предварительные требования
- Go 1.23 или выше
- PostgreSQL 15 или выше
- Docker и Docker Compose (опционально)

### Шаги запуска

1. Запуск базы данных PostgreSQL:
```bash
docker-compose up -d postgres_db
```

2. Применение миграций:
```bash
make migrate-up
```

3. Генерация gRPC кода:
```bash
make generate-go
```

4. Запуск Go-сервера:
```bash
cd go-server
go run cmd/main.go
```

Сервер будет доступен по адресу: `http://localhost:8080`

## Переменные окружения

- `GO_SERVER_PORT` - Порт HTTP сервера (по умолчанию: 8080)
- `PYTHON_SERVER_ADDR` - Адрес Python gRPC сервера (по умолчанию: localhost:9000)
- `JWT_SECRET_KEY` - Секретный ключ для JWT токенов (по умолчанию: "your-super-secret-jwt-key-please-change-it")
- `JWT_TOKEN_TTL_MINUTES` - Время жизни JWT токена в минутах (по умолчанию: 60)
- `DATABASE_URL` - URL подключения к PostgreSQL (по умолчанию: postgres://appuser:apppassword@localhost:5432/analysis_app_db)

---

# Frontend - Интерфейс для статистического анализа данных

Фронтенд-часть проекта представляет собой современное веб-приложение, разработанное с использованием Next.js и React, для взаимодействия с API статистического анализа данных. Приложение предоставляет пользователям удобный интерфейс для загрузки данных, выбора методов анализа и визуализации результатов с помощью интерактивных графиков и таблиц.

## Технологии

- **Next.js 15** - Современный React-фреймворк с серверным рендерингом и маршрутизацией
- **React 19** - Библиотека для создания пользовательских интерфейсов
- **TypeScript** - Типизированный JavaScript для более надежного кода
- **Tailwind CSS** - Утилитарный CSS-фреймворк для быстрой стилизации
- **Shadcn/UI** - Компонентная библиотека, построенная на Radix UI
- **Recharts & D3.js** - Библиотеки для создания интерактивных графиков и визуализаций
- **React Hook Form** - Библиотека для управления формами
- **Zod** - Библиотека для валидации данных
- **React Dropzone** - Компонент для загрузки файлов

## Архитектура проекта

Проект следует архитектуре App Router от Next.js с четким разделением на компоненты, страницы и утилиты:

```
frontend/
├── app/                    # Основные страницы приложения (Next.js App Router)
│   ├── auth/               # Страницы аутентификации
│   │   ├── login/          # Вход в систему
│   │   ├── register/       # Регистрация
│   │   └── forgot-password/# Восстановление пароля
│   ├── dashboard/          # Основные страницы после входа
│   │   ├── upload/         # Загрузка файла и выбор анализа
│   │   ├── results/        # Просмотр результатов анализа
│   │   │   └── [id]/       # Детальные результаты конкретного анализа
│   │   ├── history/        # История анализов пользователя
│   │   └── settings/       # Настройки пользователя
│   ├── globals.css         # Глобальные стили
│   ├── layout.tsx          # Корневой макет приложения
│   └── page.tsx            # Главная страница
├── components/             # Многоразовые компоненты
│   ├── charts/             # Компоненты для визуализации данных
│   │   ├── distribution-chart.tsx    # График распределения с гистограммой
│   │   ├── regression-chart.tsx      # График регрессионного анализа
│   │   ├── residuals-analysis.tsx    # Визуализация анализа остатков
│   │   ├── BoxPlotChart.tsx          # Диаграмма размаха (boxplot)
│   │   └── time-series-chart.tsx     # График временных рядов
│   ├── ui/                 # Базовые UI компоненты (shadcn/ui)
│   ├── dashboard-nav.tsx   # Навигация в дашборде
│   ├── language-provider.tsx  # Провайдер для мультиязычности
│   ├── language-switcher.tsx  # Переключатель языков
│   └── theme-provider.tsx     # Провайдер для темы (светлая/темная)
├── hooks/                  # Пользовательские хуки
│   ├── use-mobile.tsx      # Определение мобильного устройства
│   └── use-toast.ts        # Управление уведомлениями
├── lib/                    # Вспомогательные утилиты
│   ├── auth.ts             # Функции для аутентификации
│   ├── chart-utils.ts      # Утилиты для работы с графиками
│   └── utils.ts            # Общие утилиты
└── public/                 # Статические файлы
```

## Основные функциональные модули

### 1. Аутентификация и авторизация
- Регистрация и вход пользователей
- Защита маршрутов с помощью JWT-токенов
- Управление сессиями и выход из системы
- Восстановление пароля

### 2. Загрузка и анализ данных
- Загрузка файлов CSV и Excel через интерфейс Drag & Drop
- Выбор методов статистического анализа с дополнительными параметрами
- Предварительный просмотр колонок загруженного файла
- Отправка данных на анализ и отображение прогресса

### 3. Визуализация результатов анализа
- **Описательная статистика**
  - Таблицы с базовыми статистическими показателями
  - Гистограммы распределения значений
  - Доверительные интервалы

- **Тесты на нормальность распределения**
  - Результаты тестов Шапиро-Уилка
  - Визуализация с Q-Q графиками
  - Гистограммы с наложенной нормальной кривой

- **Регрессионный анализ**
  - Интерактивные графики с различными моделями регрессии
  - Таблицы коэффициентов и статистических показателей
  - Анализ остатков и диагностика моделей
  - Формулы полученных моделей

- **Тесты Вилкоксона**
  - Тесты знаковых рангов для связанных выборок
  - Отображение результатов и их интерпретация

### 4. История и управление анализами
- Список всех выполненных анализов пользователя
- Возможность просмотра ранее выполненных анализов
- Удаление ненужных результатов анализа

### 5. Мультиязычность и темы
- Поддержка нескольких языков интерфейса
- Переключение между светлой и темной темами

## Интерфейсы данных

Приложение работает с несколькими типами данных для различных видов анализа:

### Описательная статистика
```typescript
interface Descriptive {
  variableName: string;
  count: string;
  mean: number;
  median: number;
  mode: string[];
  variance: number;
  stdDev: number;
  variationCoefficient: number;
  skewness: number;
  kurtosis: number;
  minValue: number;
  maxValue: number;
}
```

### Тесты нормальности
```typescript
interface NormalityTestResultData {
  columnName: string;
  testName?: string;
  statistic: number;
  pValue: number;
  isNormal: boolean;
  degreesOfFreedom?: number;
  intervals?: number;
}
```

### Регрессионный анализ
```typescript
interface RegressionAnalysisData {
  dependent_variable: string;
  independent_variables: string[];
  data_points: Array<{ x: number; y: number }>;
  models: RegressionModelData[];
}
```

### Тесты Вилкоксона
```typescript
interface WilcoxonSignedRankTestResult {
  testType: string;
  variable1: string;
  variable2: string;
  statistic: number;
  pValue: number;
  conclusion: string;
  sampleSize: number;
}
```

## Взаимодействие с бэкендом

Фронтенд взаимодействует с Go-сервером через REST API:

- `POST /api/auth/register` - Регистрация нового пользователя
- `POST /api/auth/login` - Авторизация пользователя
- `POST /api/auth/refresh` - Обновление токена доступа
- `POST /api/analyze` - Отправка файла на анализ
- `POST /api/columns` - Получение списка колонок из файла
- `GET /api/analyses/history` - Получение истории анализов
- `GET /api/analyses/history/:runId/results` - Получение результатов анализа
- `DELETE /api/analyses/history/:runId` - Удаление анализа

## Особенности реализации

### Графики и визуализация
- Использование комбинации Recharts и D3.js для создания интерактивных и информативных графиков
- Адаптивный дизайн графиков под разные размеры экранов
- Настраиваемые цветовые схемы для светлой и темной темы

### Локализация
- Мультиязычная поддержка через провайдер контекста
- Встроенные переводы для русского и английского языков

### Формы и валидация
- Строгая валидация ввода с использованием Zod
- Обработка различных форматов файлов (CSV, Excel)
- Обратная связь пользователю при ошибках валидации

### Безопасность
- Защита маршрутов с помощью JWT-токенов
- Автоматическое обновление токенов
- Безопасное хранение данных сессии

## Запуск проекта

### Предварительные требования
- Node.js 18.0 или выше
- npm или pnpm

### Установка зависимостей
```bash
# Установка зависимостей
npm install
# или
pnpm install
```

### Запуск в режиме разработки
```bash
npm run dev
# или
pnpm dev
```

Приложение будет доступно по адресу: `http://localhost:3000`

### Сборка для продакшена
```bash
npm run build
npm run start
# или
pnpm build
pnpm start
```

## Возможные настройки

Фронтенд имеет несколько переменных окружения, которые можно настроить:

- `NEXT_PUBLIC_API_URL` - URL API бэкенда (по умолчанию: http://localhost:8080)
- `NEXT_PUBLIC_ENABLE_DEBUG` - Включение отладочной информации

## Требования к браузеру

Приложение оптимизировано для современных браузеров:
- Chrome (последние 2 версии)
- Firefox (последние 2 версии)
- Safari (последние 2 версии)
- Edge (последние 2 версии)